[2025-06-03 08:44:31 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 08:44:33 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 08:44:34 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 08:44:34 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 08:44:34 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 08:44:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 08:44:47 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:44:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:44:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:44:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:44:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 08:44:54 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:44:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:44:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:44:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:44:55 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:44:55 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6jwwarme905 
[2025-06-03 08:44:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:44:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:44:56 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:44:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:44:56 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:44:56 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:44:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:44:56 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:44:58 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:44:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:44:58 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 08:45:23 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:45:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:45:23 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 08:45:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6jwwarme905 
[2025-06-03 08:45:29 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:45:29 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rehigi3zwnn 
[2025-06-03 08:46:02 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rehigi3zwnn 
[2025-06-03 08:46:03 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:46:03 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=94ke0ciqb3n 
[2025-06-03 08:52:30 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 08:52:34 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 08:52:34 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 08:52:34 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 08:52:34 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 08:52:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 08:52:56 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:52:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:52:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:52:56 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:52:58 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:52:58 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ihquxxf7s9o 
[2025-06-03 08:52:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:52:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:52:58 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:52:58 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:52:58 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:52:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:52:58 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:52:58 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:52:59 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:52:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:52:59 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 08:53:31 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ihquxxf7s9o 
[2025-06-03 08:53:31 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:53:31 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=znphy8fyxs 
[2025-06-03 08:54:04 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=znphy8fyxs 
[2025-06-03 08:54:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:54:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2le6efsxcm5 
[2025-06-03 08:54:37 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2le6efsxcm5 
[2025-06-03 08:54:37 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:54:37 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=aaa8sabcmba 
[2025-06-03 08:57:56 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 08:58:02 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 08:58:03 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 08:58:07 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 08:58:07 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 08:58:08 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:58:13 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:58:13 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=iqyaoounbm 
[2025-06-03 08:58:44 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=iqyaoounbm 
[2025-06-03 08:58:45 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:58:45 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=bybits90w1 
[2025-06-03 08:58:59 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=bybits90w1 
[2025-06-03 08:59:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 08:59:16 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:59:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:59:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:59:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:59:18 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:59:18 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=0b5env5j5nyb 
[2025-06-03 08:59:18 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:59:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:59:19 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:59:19 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:59:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:59:19 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:59:19 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:59:19 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:59:20 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:59:20 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:59:20 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 08:59:51 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=0b5env5j5nyb 
[2025-06-03 08:59:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:59:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6wl71rlvla6 
[2025-06-03 09:00:24 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6wl71rlvla6 
[2025-06-03 09:00:25 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:00:25 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ax3aw4bh736 
[2025-06-03 09:00:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ax3aw4bh736 
[2025-06-03 09:00:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:00:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pd82uci7zbd 
[2025-06-03 09:01:16 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pd82uci7zbd 
[2025-06-03 09:05:28 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:05:31 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:05:31 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:05:32 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:05:32 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:05:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:05:47 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:05:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:05:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:05:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:05:49 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:05:49 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=skbucjjrza8 
[2025-06-03 09:05:49 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:05:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:05:49 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:05:49 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:05:49 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:05:49 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:05:49 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:05:49 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:05:50 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:05:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:05:50 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 09:06:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:06:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:06:15 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:06:16 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:06:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rwineitjel 
[2025-06-03 09:06:17 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:06:17 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:06:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:06:17 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:06:17 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:06:17 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:06:17 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:06:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:06:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:06:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:06:41 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:06:41 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=p4nawcmuslo 
[2025-06-03 09:06:41 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:06:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:06:42 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:06:42 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:06:42 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:06:42 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:06:42 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:06:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:06:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:06:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:07:03 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=p4nawcmuslo 
[2025-06-03 09:07:03 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=skbucjjrza8 
[2025-06-03 09:07:03 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rwineitjel 
[2025-06-03 09:07:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:07:18 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:07:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:07:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:07:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:07:28 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:07:28 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=e4adsjbeiu 
[2025-06-03 09:07:28 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:07:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:07:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:07:28 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:07:28 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:07:28 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:07:28 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:07:28 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:07:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:07:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:07:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:07:52 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 09:07:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 09:07:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 09:07:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 09:08:01 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=e4adsjbeiu 
[2025-06-03 09:08:01 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:08:01 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=birwzt5flct 
[2025-06-03 09:08:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2'&&password='c81e728d9d4c2f636f067f89cc14862c' 
[2025-06-03 09:08:04 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:08:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:08:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:08:05 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:08:06 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '2' and fp.acceptance=1 
[2025-06-03 09:08:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 09:08:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 09:08:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 09:08:06 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 09:08:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:08:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:08:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:08:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:08:12 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:08:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:08:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:08:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:08:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:08:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9qe72i04uos 
[2025-06-03 09:08:14 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:08:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:08:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:08:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:08:14 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:08:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:08:14 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:08:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:08:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:08:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:08:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:08:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=slz6bkokmno 
[2025-06-03 09:08:53 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:08:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:08:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:08:53 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:08:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:08:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:08:53 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:09:13 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=birwzt5flct 
[2025-06-03 09:09:13 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=slz6bkokmno 
[2025-06-03 09:09:13 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9qe72i04uos 
[2025-06-03 09:09:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:09:24 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:09:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:09:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:09:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:09:36 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:09:36 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ix2r5luoeq 
[2025-06-03 09:09:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:09:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:09:36 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:09:36 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:09:36 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:09:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:09:36 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:09:36 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:09:41 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ix2r5luoeq 
[2025-06-03 09:09:45 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:09:48 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:09:48 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:09:49 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:09:49 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:10:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:10:02 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:10:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:10:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:10:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:10:03 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:10:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:10:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:10:03 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:10:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:10:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=1goai7aen72 
[2025-06-03 09:10:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:10:04 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:10:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:10:04 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:10:07 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:10:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:10:08 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 09:10:36 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=1goai7aen72 
[2025-06-03 09:10:36 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:10:36 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2yrm62te3vt 
[2025-06-03 09:11:07 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2yrm62te3vt 
[2025-06-03 09:11:07 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:11:07 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=bu4w5jea89g 
[2025-06-03 09:11:40 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=bu4w5jea89g 
[2025-06-03 09:11:41 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:11:41 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=a74ig0x1mc6 
[2025-06-03 09:12:13 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=a74ig0x1mc6 
[2025-06-03 09:12:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:12:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=8z23ng3fi58 
[2025-06-03 09:15:08 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:15:10 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:15:11 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:15:11 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:15:11 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:15:26 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:15:28 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:15:28 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=jr7b6r8b8tn 
[2025-06-03 09:15:31 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=jr7b6r8b8tn 
[2025-06-03 09:15:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:15:46 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:15:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:15:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:15:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:15:48 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:15:48 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wr9ihiq6ju 
[2025-06-03 09:15:48 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:15:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:15:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:15:49 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:15:49 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:15:49 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:15:49 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:15:49 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:15:59 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:15:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:15:59 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 09:16:22 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wr9ihiq6ju 
[2025-06-03 09:16:23 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:16:23 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rafs6rxhh78 
[2025-06-03 09:16:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rafs6rxhh78 
[2025-06-03 09:16:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:16:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=aztto7hih08 
[2025-06-03 09:19:37 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:19:41 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:19:41 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:19:42 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:19:42 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:19:42 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=g4cj8h8wc7c 
[2025-06-03 09:19:42 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:19:42 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:19:48 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=g4cj8h8wc7c 
[2025-06-03 09:19:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:19:51 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:19:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:19:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:19:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:19:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:19:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=hl1xtw33xbm 
[2025-06-03 09:19:53 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:19:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:19:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:19:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:19:53 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:19:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:19:53 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:19:53 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:19:54 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:19:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:19:55 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 09:20:25 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=hl1xtw33xbm 
[2025-06-03 09:20:26 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:20:26 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=fv95injaeiv 
[2025-06-03 09:20:59 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=fv95injaeiv 
[2025-06-03 09:20:59 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:20:59 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=7am9ix0r54r 
[2025-06-03 09:24:24 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:24:30 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:24:30 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:24:32 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:24:32 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:24:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:24:48 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:24:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:24:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:24:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:24:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:24:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=nq8co286a4 
[2025-06-03 09:24:52 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:24:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:24:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:24:52 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:24:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:24:52 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:24:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:24:52 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:24:53 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:24:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:24:53 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 09:25:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=nq8co286a4 
[2025-06-03 09:28:29 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:28:31 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:28:31 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:28:32 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:28:32 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:28:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:28:46 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:28:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:28:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:28:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:28:54 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:28:54 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=cgp120ypdv9 
[2025-06-03 09:28:54 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:28:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:28:54 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:28:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:28:54 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:28:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:28:54 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:28:54 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:28:55 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:28:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:28:55 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 09:29:27 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=cgp120ypdv9 
[2025-06-03 09:29:28 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:29:28 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=b6gkp0928ki 
[2025-06-03 09:29:38 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:29:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:29:38 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 09:30:00 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=b6gkp0928ki 
[2025-06-03 09:30:01 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:30:01 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=np1xvrwvnzj 
[2025-06-03 09:30:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=np1xvrwvnzj 
[2025-06-03 09:30:34 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:30:34 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ije8tv17s2 
[2025-06-03 09:31:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ije8tv17s2 
[2025-06-03 09:31:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:31:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=yzu4i5upde 
[2025-06-03 09:31:45 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=yzu4i5upde 
[2025-06-03 09:31:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:31:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wz6lnirfym 
[2025-06-03 09:34:32 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:34:34 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:34:34 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:34:35 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:34:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:34:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6dvwuswbtye 
[2025-06-03 09:34:35 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:34:35 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:34:50 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6dvwuswbtye 
[2025-06-03 09:35:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:35:03 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:35:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:35:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:35:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:35:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:35:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ipj8hxjz7b 
[2025-06-03 09:35:06 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:35:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:35:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:35:06 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:35:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:35:06 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:35:06 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:35:06 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:35:07 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:35:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:35:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 09:35:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:35:17 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:35:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:35:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 09:35:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:35:39 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ipj8hxjz7b 
[2025-06-03 09:35:39 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:35:39 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=c5zeetpfk4s 
[2025-06-03 09:42:36 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:42:39 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:42:39 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:42:40 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:42:40 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:42:40 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:42:44 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:42:44 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=vgtofw4cryh 
[2025-06-03 09:42:46 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=vgtofw4cryh 
[2025-06-03 09:42:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:42:50 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:42:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:42:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:42:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:42:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["ZN743TAggFZ5pXjQEKQwf"] 
[2025-06-03 09:42:54 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='ZN743TAggFZ5pXjQEKQwf' AND files.currenthead=versions.vid 
[2025-06-03 09:42:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:42:54 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:42:54 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/ZN743TAggFZ5pXjQEKQwf 
[2025-06-03 09:42:54 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=ZN743TAggFZ5pXjQEKQwf, wid=8kbxyhjq8g4 
[2025-06-03 09:42:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:42:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:42:57 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:42:57 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:42:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:42:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8kbxyhjq8g4","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:43:00 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:43:00 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=dw52yzsbvql 
[2025-06-03 09:43:00 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:43:01 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:43:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:43:01 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:43:01 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:43:01 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:43:01 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:43:01 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:43:01 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:43:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:43:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 09:43:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:43:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8kbxyhjq8g4","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:43:08 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:43:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:43:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 09:43:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:43:09 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:43:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8kbxyhjq8g4","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:43:13 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:43:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:43:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 09:43:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:43:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8kbxyhjq8g4","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:43:17 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=dw52yzsbvql 
[2025-06-03 09:43:17 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=ZN743TAggFZ5pXjQEKQwf, wid=8kbxyhjq8g4 
[2025-06-03 09:43:19 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:43:24 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:43:29 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:43:34 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:43:39 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:43:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:43:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:43:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:00 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:05 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:10 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:15 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:20 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:25 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:30 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:35 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:40 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:45 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:50 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:55 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:00 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:05 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:10 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:15 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:20 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:25 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:31 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:36 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:41 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:46 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:51 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:45:56 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:01 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:06 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:11 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:17 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:22 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:27 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:32 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:37 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:42 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:46:47 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:49:12 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:49:14 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:49:14 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:49:15 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:49:15 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:49:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:49:45 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:49:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:49:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:49:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:49:48 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:49:48 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=os6s0w64uk 
[2025-06-03 09:49:48 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:49:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:49:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:49:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:49:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:49:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:49:48 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:49:48 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:49:50 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:49:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:49:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 09:49:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 09:49:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:49:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:50:21 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=os6s0w64uk 
[2025-06-03 09:50:21 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:50:21 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ame9dls6kyp 
[2025-06-03 09:50:27 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ame9dls6kyp 
[2025-06-03 09:54:19 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:54:22 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:54:22 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:54:23 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:54:23 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:54:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:54:36 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:54:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:54:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:54:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:54:39 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:54:39 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=k2tne7m6byq 
[2025-06-03 09:54:39 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:54:39 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:54:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:54:39 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:54:39 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:54:39 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:54:39 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:54:39 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:54:40 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:54:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:54:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 09:54:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 09:54:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:54:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:55:10 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=k2tne7m6byq 
[2025-06-03 09:55:11 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:55:11 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ponxj7ren9 
[2025-06-03 09:55:43 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ponxj7ren9 
[2025-06-03 09:55:44 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:55:44 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=4m2prybh1qn 
[2025-06-03 09:56:16 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=4m2prybh1qn 
[2025-06-03 09:56:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:56:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2o6wpl0styc 
[2025-06-03 09:57:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2o6wpl0styc 
[2025-06-03 09:57:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:57:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=svsa2zmgjmd 
[2025-06-03 09:58:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=svsa2zmgjmd 
[2025-06-03 09:58:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:58:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wsp2wfuc84 
[2025-06-03 09:58:45 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wsp2wfuc84 
[2025-06-03 09:58:45 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:58:45 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=igqt08jm6kn 
[2025-06-03 09:59:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=igqt08jm6kn 
[2025-06-03 10:00:57 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 10:00:59 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 10:00:59 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 10:00:59 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 10:00:59 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 10:01:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 10:01:12 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 10:01:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:01:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:01:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:01:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:01:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=e91csc0uwx8 
[2025-06-03 10:01:14 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 10:01:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:01:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 10:01:14 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:01:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 10:01:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 10:01:15 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 10:01:15 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:01:16 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:01:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:01:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 10:01:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 10:01:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:01:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:01:29 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=e91csc0uwx8 
[2025-06-03 10:25:17 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 10:25:19 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 10:25:19 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 10:25:19 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 10:25:19 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 10:25:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 10:25:34 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 10:25:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:25:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:25:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:25:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:25:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=078v48ucwp63 
[2025-06-03 10:25:36 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 10:25:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:25:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 10:25:36 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:25:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 10:25:36 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 10:25:36 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:25:36 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 10:25:38 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:25:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:25:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 10:25:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 10:25:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:25:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:25:44 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:25:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:25:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 10:25:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 10:25:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:25:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:25:47 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:25:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:25:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 10:25:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 10:25:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:25:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:26:06 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=078v48ucwp63 
[2025-06-03 10:26:07 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:26:07 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=fmtsp5948c 
[2025-06-03 10:27:00 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 10:27:02 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 10:27:02 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 10:27:03 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 10:27:03 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 10:27:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 10:27:13 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 10:27:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:27:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:27:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:27:15 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 10:27:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 10:27:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 10:27:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 10:27:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 10:27:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:27:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:27:16 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:27:16 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=a81h6zbf16l 
[2025-06-03 10:27:16 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 10:27:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 10:27:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 10:27:16 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:27:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 10:27:16 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 10:27:16 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 10:27:16 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 10:27:17 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 10:27:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:27:27 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 10:27:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:27:43 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 10:27:43 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:27:49 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=a81h6zbf16l 
[2025-06-03 10:27:49 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:27:49 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=l78v4atfr9 
[2025-06-03 10:27:53 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 10:27:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 10:27:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 10:27:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 10:27:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 10:27:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:27:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:27:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:28:20 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=l78v4atfr9 
[2025-06-03 10:28:21 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:28:21 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=mnetlykbf1f 
[2025-06-03 10:47:32 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 10:47:33 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 10:47:33 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 10:47:34 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 10:47:34 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 10:47:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 10:47:48 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 10:47:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:47:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:47:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:47:50 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 10:47:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 10:47:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 10:47:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 10:47:50 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 10:47:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:47:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:47:51 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:47:51 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=8wbwjaa85t 
[2025-06-03 10:47:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 10:47:51 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 10:47:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 10:47:51 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:47:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 10:47:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:47:52 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 10:47:52 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 10:47:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 10:47:54 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:47:57 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 10:47:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 10:47:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 10:47:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 10:47:57 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 10:47:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:47:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:47:59 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:48:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 10:48:04 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 10:48:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:48:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:48:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:48:05 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:48:05 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xov229blkhp 
[2025-06-03 10:48:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:48:05 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 10:48:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:48:05 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:48:05 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 10:48:05 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:48:05 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 10:48:05 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 10:48:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:48:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:48:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:48:42 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:48:42 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=sh3a0x461sn 
[2025-06-03 10:48:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:48:43 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 10:48:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 10:48:43 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:48:43 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 10:48:43 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:48:43 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 10:48:43 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 10:53:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=8wbwjaa85t 
[2025-06-03 10:53:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=sh3a0x461sn 
[2025-06-03 10:53:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xov229blkhp 
[2025-06-03 10:53:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:53:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=lu4k1w1czjq 
[2025-06-03 10:53:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:53:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=x3gs58nlg3a 
[2025-06-03 10:53:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:53:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=f4igcn2jcqp 
[2025-06-03 10:55:04 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=lu4k1w1czjq 
[2025-06-03 10:55:04 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=f4igcn2jcqp 
[2025-06-03 10:55:04 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=x3gs58nlg3a 
[2025-06-03 10:55:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:55:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=shwv2b3a0ud 
[2025-06-03 10:55:05 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:55:05 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zp2ahiq874j 
[2025-06-03 10:55:05 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:55:05 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=n14ta8o3eir 
[2025-06-03 10:57:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=n14ta8o3eir 
[2025-06-03 10:57:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zp2ahiq874j 
[2025-06-03 10:57:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=shwv2b3a0ud 
[2025-06-03 10:57:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:57:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=tnslc2k69li 
[2025-06-03 10:57:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:57:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9abwc936lt 
[2025-06-03 10:57:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:57:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=g9s3mo3fxh 
[2025-06-03 10:58:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=g9s3mo3fxh 
[2025-06-03 10:58:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=tnslc2k69li 
[2025-06-03 10:58:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9abwc936lt 
[2025-06-03 10:58:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:58:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ys41eiqv1vj 
[2025-06-03 10:58:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:58:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=n3eepg9yntb 
[2025-06-03 10:58:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:58:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=sxhs3sh4fdf 
[2025-06-03 10:59:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=sxhs3sh4fdf 
[2025-06-03 10:59:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ys41eiqv1vj 
[2025-06-03 10:59:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=n3eepg9yntb 
[2025-06-03 10:59:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:59:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9nnq0noi2f 
[2025-06-03 10:59:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:59:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pehvldmjvul 
[2025-06-03 10:59:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 10:59:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=3vv7mqnef16 
[2025-06-03 11:00:19 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pehvldmjvul 
[2025-06-03 11:00:19 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9nnq0noi2f 
[2025-06-03 11:01:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=3vv7mqnef16 
[2025-06-03 11:01:05 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:01:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=z96a1zmcd1h 
[2025-06-03 11:01:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:01:09 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=22a25w4qfgk 
[2025-06-03 11:01:10 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:01:11 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=hcyi8c873ek 
[2025-06-03 11:06:30 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 11:06:32 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 11:06:32 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 11:06:33 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 11:06:33 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 11:06:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 11:06:42 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 11:06:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 11:06:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 11:06:43 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 11:06:44 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:06:44 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=s3qku5dxhw 
[2025-06-03 11:06:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 11:06:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 11:06:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 11:06:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:06:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 11:06:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:06:44 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 11:06:44 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 11:07:15 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=s3qku5dxhw 
[2025-06-03 11:07:16 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:07:16 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zng9inoz6re 
[2025-06-03 11:07:47 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zng9inoz6re 
[2025-06-03 11:07:47 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:07:47 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zyz69brd7q 
[2025-06-03 11:10:45 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 11:10:47 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 11:10:47 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 11:10:47 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 11:10:47 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:10:47 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ergquv3p5fs 
[2025-06-03 11:10:47 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 11:10:54 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ergquv3p5fs 
[2025-06-03 11:10:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 11:10:57 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 11:10:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 11:10:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 11:10:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 11:10:59 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:10:59 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=f245rbx81u7 
[2025-06-03 11:10:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 11:10:59 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 11:10:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 11:10:59 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:10:59 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 11:10:59 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:10:59 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 11:10:59 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 11:11:32 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=f245rbx81u7 
[2025-06-03 11:11:32 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:11:32 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=3py9tkmynna 
[2025-06-03 11:12:03 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=3py9tkmynna 
[2025-06-03 11:12:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:12:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wa031qf9hli 
[2025-06-03 11:12:36 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wa031qf9hli 
[2025-06-03 11:12:37 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:12:37 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=nnbxvu45hi 
[2025-06-03 11:13:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=nnbxvu45hi 
[2025-06-03 11:13:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:13:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xrqff5te7te 
[2025-06-03 11:14:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xrqff5te7te 
[2025-06-03 11:14:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:14:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=io0uadbrf0l 
[2025-06-03 11:15:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=io0uadbrf0l 
[2025-06-03 11:15:15 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:15:15 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=5foa34y0rp4 
[2025-06-03 11:18:35 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 11:18:38 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 11:18:38 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 11:18:38 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 11:18:38 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 11:18:41 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:18:41 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=aykjdebg34e 
[2025-06-03 11:18:42 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=aykjdebg34e 
[2025-06-03 11:18:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 11:18:46 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 11:18:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 11:18:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 11:18:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 11:18:48 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:18:48 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=76op7pd7glv 
[2025-06-03 11:18:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 11:18:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 11:18:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:18:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 11:18:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 11:18:48 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 11:19:19 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=76op7pd7glv 
[2025-06-03 11:19:20 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 11:19:20 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=paw68m7ltxa 
[2025-06-03 04:33:24 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 04:33:27 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 04:33:27 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 04:33:27 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 04:33:27 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 04:35:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:35:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=fkjbch7x6ah 
[2025-06-03 04:35:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=fkjbch7x6ah 
[2025-06-03 04:35:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:35:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=8mhn06t4ggg 
[2025-06-03 04:36:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 04:36:49 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 04:36:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 04:36:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 04:36:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 04:36:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=8mhn06t4ggg 
[2025-06-03 04:36:55 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:36:55 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=aivo1edfd6s 
[2025-06-03 04:36:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 04:36:55 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 04:36:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 04:36:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 04:36:55 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 04:36:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 04:36:55 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 04:36:55 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 04:36:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:36:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=5w5crzrcdw8 
[2025-06-03 04:41:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=aivo1edfd6s 
[2025-06-03 04:41:33 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:41:33 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=dsepm5tbhps 
[2025-06-03 04:44:44 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 04:44:46 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 04:44:46 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 04:44:46 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 04:44:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:44:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=504n1uu1uah 
[2025-06-03 04:44:46 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 04:44:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:44:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6eyii4w485h 
[2025-06-03 04:44:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=504n1uu1uah 
[2025-06-03 04:44:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6eyii4w485h 
[2025-06-03 04:45:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 04:45:00 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 04:45:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 04:45:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 04:45:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 04:45:20 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:45:20 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=dpdp2pmoy4e 
[2025-06-03 04:45:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 04:45:20 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 04:45:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 04:45:20 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 04:45:20 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 04:45:20 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 04:45:20 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 04:45:20 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 04:45:50 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=dpdp2pmoy4e 
[2025-06-03 04:45:51 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:45:51 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=q4w4x5rdvsr 
[2025-06-03 04:46:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=q4w4x5rdvsr 
[2025-06-03 04:46:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:46:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=4osebh1rs1q 
[2025-06-03 04:47:26 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=4osebh1rs1q 
[2025-06-03 04:47:27 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:47:27 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=m8nbj94f41c 
[2025-06-03 04:47:59 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=m8nbj94f41c 
[2025-06-03 04:48:00 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:48:00 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=lhwwvsyhyci 
[2025-06-03 04:48:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=lhwwvsyhyci 
[2025-06-03 04:48:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:48:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6y64bnx6kgx 
[2025-06-03 04:49:29 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6y64bnx6kgx 
[2025-06-03 04:49:29 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:49:29 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=igpg1yj72n 
[2025-06-03 04:50:02 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=igpg1yj72n 
[2025-06-03 04:50:02 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:50:02 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pymiz6oje2 
[2025-06-03 04:50:35 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pymiz6oje2 
[2025-06-03 04:50:37 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:50:37 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=vhlbdr6jh9 
[2025-06-03 04:51:08 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=vhlbdr6jh9 
[2025-06-03 04:51:49 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 04:51:49 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2n6am0ub1pk 
[2025-06-03 05:02:28 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 05:02:29 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 05:02:29 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 05:02:30 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 05:02:30 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 05:02:31 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:02:31 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=v3ke0mg40t 
[2025-06-03 05:03:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 05:03:05 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:03:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:03:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:03:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:03:07 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:03:07 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=7us3fe5qrn5 
[2025-06-03 05:03:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:03:07 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:03:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:03:07 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:03:07 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:03:07 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:03:07 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:03:07 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:03:41 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["aMjDqAkM2EnMIw2IECBXA","gq-cpDNPIhUanbwtnyBG9",{"type":"Buffer","data":[1,3,169,252,161,233,10,0,4,1,5,113,117,105,108,108,2,50,50,129,169,252,161,233,10,1,4,196,169,252,161,233,10,1,169,252,161,233,10,2,9,233,151,174,233,162,157,229,164,150,1,169,252,161,233,10,1,2,4]},null,"1"] 
[2025-06-03 05:03:41 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:03:41 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-06-03 05:03:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:03:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:03:46 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["PrEHLun3l54dE1-Z7nb3b","gq-cpDNPIhUanbwtnyBG9",{"type":"Buffer","data":[1,3,169,252,161,233,10,0,4,1,5,113,117,105,108,108,2,50,50,129,169,252,161,233,10,1,4,196,169,252,161,233,10,1,169,252,161,233,10,2,9,233,151,174,233,162,157,229,164,150,1,169,252,161,233,10,1,2,4]},"131","1"] 
[2025-06-03 05:03:46 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:03:46 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-06-03 05:03:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:03:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:03:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:03:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:03:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:03:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:03:59 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:03:59 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:04:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:04:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:04:50 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:04:50 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:05:11 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=7us3fe5qrn5 
[2025-06-03 05:05:11 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=v3ke0mg40t 
[2025-06-03 05:05:18 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 05:05:19 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 05:05:19 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 05:05:20 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 05:05:20 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 05:05:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 05:05:27 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:05:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:05:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:05:28 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:05:33 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:05:33 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=tuj5p2a39nr 
[2025-06-03 05:05:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:05:33 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:05:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:05:33 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:05:33 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:05:33 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:05:33 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:05:33 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:05:57 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:05:57 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:06:05 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:06:05 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:06:06 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=tuj5p2a39nr 
[2025-06-03 05:06:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:06:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=torl2ckrugg 
[2025-06-03 05:06:10 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:06:10 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:06:12 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=torl2ckrugg 
[2025-06-03 05:06:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:06:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=brs1wzsie9b 
[2025-06-03 05:06:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:06:14 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:06:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:06:14 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:06:14 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:06:14 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:06:14 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:06:14 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:06:18 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:06:18 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:06:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["PrEHLun3l54dE1-Z7nb3b"] 
[2025-06-03 05:06:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:06:45 +08:00Z] [INFO] - SQL (parameterized): INSERT INTO versions(vid, fileid, snapshot, description, lasteditor) VALUES(?, ?, ?, ?, ?) -- Params: ["7CAAoNVn471jweJ1o4faY","gq-cpDNPIhUanbwtnyBG9",{"type":"Buffer","data":[2,3,169,252,161,233,10,0,1,1,5,113,117,105,108,108,2,129,169,252,161,233,10,1,4,193,169,252,161,233,10,1,169,252,161,233,10,2,3,7,206,201,243,184,5,0,129,169,252,161,233,10,5,5,132,206,201,243,184,5,4,2,51,51,129,206,201,243,184,5,6,1,196,206,201,243,184,5,6,206,201,243,184,5,7,3,229,166,130,129,206,201,243,184,5,7,1,196,206,201,243,184,5,7,206,201,243,184,5,9,3,232,139,165,132,206,201,243,184,5,9,2,50,114,2,169,252,161,233,10,1,0,9,206,201,243,184,5,3,0,5,7,1,9,1]},"241","1"] 
[2025-06-03 05:06:45 +08:00Z] [INFO] - SQL (direct): UPDATE files SET currenthead='[object Object]' WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:06:45 +08:00Z] [DEBUG] - [status] 200 [msg] 版本创建成功 
[2025-06-03 05:06:45 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:06:45 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:06:47 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=brs1wzsie9b 
[2025-06-03 05:06:47 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:06:47 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=3o0ahb6shwq 
[2025-06-03 05:06:51 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["7CAAoNVn471jweJ1o4faY"] 
[2025-06-03 05:06:51 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:06:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=3o0ahb6shwq 
[2025-06-03 05:06:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:06:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=cz3p701x1ut 
[2025-06-03 05:06:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:06:56 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:06:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:06:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:06:56 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:06:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:06:56 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:06:56 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:06:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, snapshot, description FROM versions WHERE vid = ? -- Params: ["7CAAoNVn471jweJ1o4faY"] 
[2025-06-03 05:06:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本成功 
[2025-06-03 05:07:29 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=cz3p701x1ut 
[2025-06-03 05:07:29 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:07:29 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=u98ao7w5wm 
[2025-06-03 05:08:02 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=u98ao7w5wm 
[2025-06-03 05:08:02 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:08:02 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6tiw1bfzcci 
[2025-06-03 05:08:35 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6tiw1bfzcci 
[2025-06-03 05:08:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:08:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=p8cs184ito 
[2025-06-03 05:08:37 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:08:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:08:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 05:08:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 05:08:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:08:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:08:41 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:08:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:08:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 05:08:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 05:08:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:08:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:09:08 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=p8cs184ito 
[2025-06-03 05:09:08 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:09:08 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6z2pjk5inta 
[2025-06-03 05:09:41 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6z2pjk5inta 
[2025-06-03 05:09:41 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:09:41 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2pnb8xid5t 
[2025-06-03 05:10:14 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2pnb8xid5t 
[2025-06-03 05:10:14 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:10:14 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wqmb6gynsk 
[2025-06-03 05:10:45 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wqmb6gynsk 
[2025-06-03 05:10:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:10:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=s0icm4on21p 
[2025-06-03 05:10:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 05:10:54 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:10:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:10:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:10:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:10:56 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 05:10:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 05:10:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 05:10:56 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 05:10:56 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 05:10:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:10:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:10:58 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:10:58 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ja3tiwhzyfe 
[2025-06-03 05:10:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 05:10:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:10:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 05:10:58 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:10:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:10:58 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:10:58 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:10:58 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:16:25 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 05:16:27 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 05:16:27 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 05:16:27 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 05:16:27 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 05:16:28 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:16:28 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=mot52746nc 
[2025-06-03 05:16:28 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:16:28 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=0nhr6mr8tpfn 
[2025-06-03 05:16:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=0nhr6mr8tpfn 
[2025-06-03 05:16:34 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=mot52746nc 
[2025-06-03 05:16:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 05:16:38 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:16:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:16:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:16:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:16:39 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:16:39 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=l8z88ay5mxh 
[2025-06-03 05:16:39 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 05:16:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:16:39 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:16:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:16:39 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:16:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:16:40 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:16:40 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:16:40 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:16:40 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:17:12 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=l8z88ay5mxh 
[2025-06-03 05:17:13 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:17:13 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=c9gtgiez1q 
[2025-06-03 05:17:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 05:17:32 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:17:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:17:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:17:32 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:17:33 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 05:17:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 05:17:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 05:17:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 05:17:33 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 05:17:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:17:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:17:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:17:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6rph7zs3j5l 
[2025-06-03 05:17:35 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 05:17:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 05:17:35 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:17:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 05:17:35 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:17:35 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:17:35 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:17:35 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:17:35 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:17:35 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 05:19:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6rph7zs3j5l 
[2025-06-03 05:19:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=c9gtgiez1q 
[2025-06-03 05:19:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:19:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=x4ixnpyay3e 
[2025-06-03 05:19:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:19:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=147xyp4ffnkc 
[2025-06-03 05:20:50 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:20:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:20:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 05:20:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 05:20:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:20:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:21:15 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=x4ixnpyay3e 
[2025-06-03 05:21:15 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=147xyp4ffnkc 
[2025-06-03 05:33:29 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 05:33:31 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 05:33:31 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 05:33:32 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 05:33:32 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 05:37:26 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 05:37:27 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 05:37:27 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 05:37:28 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 05:37:28 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 05:37:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 05:37:50 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:37:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:37:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:37:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:37:52 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 05:37:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:37:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xdwnab775dp 
[2025-06-03 05:37:52 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 05:37:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:37:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:37:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:37:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:37:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:37:52 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:37:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:37:52 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:37:52 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:37:54 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:37:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:37:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 05:37:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 05:37:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:37:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:38:25 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xdwnab775dp 
[2025-06-03 05:38:25 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:38:25 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xn1ffegppq 
[2025-06-03 05:38:29 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:38:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:38:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 05:38:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 05:38:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:38:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:38:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 05:38:52 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:38:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 05:38:55 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:38:56 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xn1ffegppq 
[2025-06-03 05:38:57 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:38:57 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=z06c8bfvxx 
[2025-06-03 05:39:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 05:39:07 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:39:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:39:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:39:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:39:10 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 05:39:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 05:39:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 05:39:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 05:39:10 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 05:39:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:39:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:39:12 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 05:39:12 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:39:12 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=u5tvxueps8 
[2025-06-03 05:39:12 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 05:39:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 05:39:12 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:39:12 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 05:39:12 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:39:12 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:39:12 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:39:12 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:39:12 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 05:39:12 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:39:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:39:28 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:39:28 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:39:30 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 05:39:30 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:39:30 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=508xomma2t4 
[2025-06-03 05:39:30 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:39:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:39:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:39:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:39:30 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:39:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:39:30 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:39:30 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:39:30 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:40:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-06-03 05:40:13 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:40:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:40:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:40:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:40:15 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '4' and fp.acceptance=1 
[2025-06-03 05:40:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 05:40:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 05:40:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2'&&password='c81e728d9d4c2f636f067f89cc14862c' 
[2025-06-03 05:40:21 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 05:40:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='2' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 05:40:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='2' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 05:40:21 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 05:40:22 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '2' and fp.acceptance=1 
[2025-06-03 05:40:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 05:40:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 05:40:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 05:40:22 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 05:40:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:40:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:40:23 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 05:40:23 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 05:40:23 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=7cwm66ukw1n 
[2025-06-03 05:40:23 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 05:40:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 05:40:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 05:40:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 05:40:23 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:40:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 05:40:23 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 05:40:23 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 05:40:23 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true 
[2025-06-03 05:40:23 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 05:41:26 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 05:41:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 05:41:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 05:41:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 05:41:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:41:26 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 05:41:30 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 05:41:53 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 05:42:21 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=7cwm66ukw1n 
[2025-06-03 05:42:21 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=508xomma2t4 
[2025-06-03 05:42:21 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=z06c8bfvxx 
[2025-06-03 05:42:21 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=u5tvxueps8 
[2025-06-03 06:00:36 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 06:00:40 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 06:00:40 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 06:00:40 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 06:00:40 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 06:01:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 06:01:42 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:01:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:01:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:01:43 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:01:45 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:01:46 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:01:46 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=kz07xqagrx 
[2025-06-03 06:01:46 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:01:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:01:46 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:01:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:01:46 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:01:46 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:01:46 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:01:46 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:01:46 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:01:46 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:01:47 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:01:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:01:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 06:01:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 06:01:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:01:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:02:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 06:02:10 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:02:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:02:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:02:10 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:02:16 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=kz07xqagrx 
[2025-06-03 06:02:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:02:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=r988g65yp0a 
[2025-06-03 06:02:42 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:02:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:02:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:02:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:02:42 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:02:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:02:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:02:44 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:02:44 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:02:44 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=5sjpqkrmnba 
[2025-06-03 06:02:44 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:02:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:02:44 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:02:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:02:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:02:44 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:02:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:02:44 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:02:44 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:02:45 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 06:02:51 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:02:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:02:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 06:02:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 06:02:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:02:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:02:55 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 06:04:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=r988g65yp0a 
[2025-06-03 06:04:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=5sjpqkrmnba 
[2025-06-03 06:04:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:04:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=uh6e7oo3dbi 
[2025-06-03 06:04:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:04:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=tekxs8ellh 
[2025-06-03 06:05:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=uh6e7oo3dbi 
[2025-06-03 06:05:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:05:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9569mbco1r7 
[2025-06-03 06:06:47 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9569mbco1r7 
[2025-06-03 06:06:47 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:06:47 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=hyp4305floq 
[2025-06-03 06:09:48 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 06:09:50 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 06:09:50 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 06:09:50 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 06:09:50 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:09:50 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rwpytjin1fj 
[2025-06-03 06:09:50 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:09:50 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6y0isml9bfq 
[2025-06-03 06:09:50 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 06:09:50 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:09:50 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:10:09 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rwpytjin1fj 
[2025-06-03 06:10:09 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6y0isml9bfq 
[2025-06-03 06:10:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 06:10:13 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:10:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:10:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:10:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:10:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 06:10:23 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:10:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:10:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:10:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:10:25 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:10:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:10:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:10:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:10:25 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:10:37 +08:00Z] [INFO] - SQL (direct): SELECT *  FROM filestates AS fs,files AS fl 
    WHERE fs.editor='3' AND fl.fileid=fs.fileid 
[2025-06-03 06:10:37 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:10:38 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:10:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:10:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:10:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:10:38 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:10:39 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'ZN743TAggFZ5pXjQEKQwf' 
[2025-06-03 06:10:39 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:10:39 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["ZN743TAggFZ5pXjQEKQwf"] 
[2025-06-03 06:10:39 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='ZN743TAggFZ5pXjQEKQwf' AND files.currenthead=versions.vid 
[2025-06-03 06:10:39 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:10:39 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:10:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/ZN743TAggFZ5pXjQEKQwf 
[2025-06-03 06:10:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=ZN743TAggFZ5pXjQEKQwf, wid=wzmaedyyh3e 
[2025-06-03 06:10:39 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 06:10:39 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 06:10:41 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 06:10:41 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=ZN743TAggFZ5pXjQEKQwf, wid=wzmaedyyh3e 
[2025-06-03 06:10:41 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:10:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:10:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:10:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:10:41 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:10:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:10:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:10:42 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:10:42 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:10:42 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=h7hsnprbe0p 
[2025-06-03 06:10:42 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:10:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:10:42 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:10:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:10:42 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:10:42 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:10:42 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:10:42 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:10:42 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:10:42 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 06:10:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:10:48 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:10:48 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:10:48 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=bhmejyvftau 
[2025-06-03 06:10:48 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:10:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:10:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:10:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:10:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:10:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:10:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:10:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:10:48 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:10:48 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:10:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:10:52 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:10:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:10:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 06:10:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 06:10:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:10:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:10:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:10:56 +08:00Z] [DEBUG] - [status] 500 [msg] 参数缺失 
[2025-06-03 06:10:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:11:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:14:32 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 06:14:34 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 06:14:35 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 06:14:35 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 06:14:35 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 06:14:35 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:14:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 06:14:49 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:14:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:14:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:14:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:14:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 06:14:52 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:14:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:14:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:14:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:14:54 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:14:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:14:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:14:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:14:54 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:14:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:14:55 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:14:55 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:14:55 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:14:55 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pzpo0jpwki 
[2025-06-03 06:14:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:14:55 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:14:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:14:55 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:14:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:14:55 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:14:55 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:14:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:14:55 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:14:55 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 06:14:59 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:14:59 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:14:59 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=l10fb7cdq4 
[2025-06-03 06:14:59 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:14:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:14:59 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:14:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:14:59 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:14:59 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:14:59 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:14:59 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:14:59 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:14:59 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:15:27 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:15:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:15:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 06:15:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 06:15:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:15:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:15:30 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:15:30 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 06:15:30 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:15:30 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 06:15:40 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pzpo0jpwki 
[2025-06-03 06:15:41 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:15:41 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:15:41 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wuryuot1un 
[2025-06-03 06:15:41 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:15:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:15:41 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:15:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:15:41 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:15:41 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:15:41 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:15:41 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:15:41 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:15:41 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 06:15:52 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:15:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:15:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:15:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:15:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:15:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:15:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:15:54 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:15:54 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:15:54 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6iznctlhzrr 
[2025-06-03 06:15:54 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true 
[2025-06-03 06:15:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 06:15:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:15:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 06:15:54 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:15:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:15:54 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:15:54 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:15:54 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:16:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:16:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:16:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:16:03 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:16:03 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:16:03 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ukl56m3x75m 
[2025-06-03 06:16:03 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:16:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:16:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:16:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:16:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:16:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:16:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:16:03 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:16:03 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:16:14 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:16:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:16:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 06:16:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 06:16:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:16:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:16:16 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:16:16 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 06:16:16 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:16:16 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 06:18:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=wuryuot1un 
[2025-06-03 06:18:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=6iznctlhzrr 
[2025-06-03 06:18:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=l10fb7cdq4 
[2025-06-03 06:18:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ukl56m3x75m 
[2025-06-03 06:18:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:18:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=76p0p0peblj 
[2025-06-03 06:18:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:18:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=tqizv5dkny 
[2025-06-03 06:18:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:18:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=gig0msylqrq 
[2025-06-03 06:18:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:18:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pv9uhdw5n5g 
[2025-06-03 06:19:27 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=tqizv5dkny 
[2025-06-03 06:19:27 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=76p0p0peblj 
[2025-06-03 06:19:27 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:19:27 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=4giee9s0uoy 
[2025-06-03 06:19:28 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:19:28 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=8epmzxrho6p 
[2025-06-03 06:26:20 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 06:26:22 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 06:26:22 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 06:26:23 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 06:26:23 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:26:23 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=frpk0718kib 
[2025-06-03 06:26:23 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 06:26:27 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:26:27 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=p5d5qpc28y 
[2025-06-03 06:26:28 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:26:30 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=p5d5qpc28y 
[2025-06-03 06:26:30 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=frpk0718kib 
[2025-06-03 06:26:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 06:26:34 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:26:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:26:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:26:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:26:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 06:26:46 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:26:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:26:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:26:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:26:48 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:26:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:26:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:26:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:26:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:26:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:26:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:26:49 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:26:49 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:26:49 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=le1f253qwo9 
[2025-06-03 06:26:49 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:26:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:26:49 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:26:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 06:26:49 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:26:49 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:26:49 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:26:49 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:26:49 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:26:49 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 06:27:19 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=le1f253qwo9 
[2025-06-03 06:27:20 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:27:20 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=grpy5czu63q 
[2025-06-03 06:27:52 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=grpy5czu63q 
[2025-06-03 06:27:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:27:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=53a2nww9ixg 
[2025-06-03 06:28:35 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=53a2nww9ixg 
[2025-06-03 06:28:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:28:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ykv9sfuris 
[2025-06-03 06:28:48 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:28:48 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:28:48 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=k1xm58kuhhb 
[2025-06-03 06:28:48 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:28:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:28:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:28:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:28:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:28:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:28:48 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:28:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:28:48 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:28:48 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:28:54 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:28:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:28:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 06:28:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 06:28:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:28:54 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 06:28:56 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:28:56 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 06:28:56 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:28:56 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 06:29:09 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:29:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:29:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:29:09 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:29:09 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:29:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:29:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:29:11 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 06:29:11 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:29:11 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zfqlvuac5de 
[2025-06-03 06:29:11 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true 
[2025-06-03 06:29:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 06:29:11 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:29:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 06:29:11 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:29:11 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:29:11 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:29:11 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:29:11 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:43:45 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 06:43:47 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 06:43:47 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 06:43:48 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 06:43:48 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:43:48 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ugy2vvemw2 
[2025-06-03 06:43:48 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 06:43:48 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:43:48 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:43:50 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:43:50 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=mtp1glkqm19 
[2025-06-03 06:43:52 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:43:52 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=l8tac2vej5e 
[2025-06-03 06:43:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ugy2vvemw2 
[2025-06-03 06:43:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=l8tac2vej5e 
[2025-06-03 06:43:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=mtp1glkqm19 
[2025-06-03 06:44:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 06:44:06 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:44:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:44:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:44:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:44:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 06:44:10 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:44:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:44:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:44:10 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:44:11 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:44:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:44:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:44:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:44:11 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:44:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:44:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:44:18 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:44:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:44:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:44:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:44:18 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:44:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:44:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:44:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:44:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:44:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:44:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:44:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:44:43 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:44:45 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 06:44:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 06:44:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:44:45 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:44:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:44:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:44:47 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:44:48 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Bfap5zFgjAhC1hqHMsqot"] 
[2025-06-03 06:44:48 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Bfap5zFgjAhC1hqHMsqot' AND files.currenthead=versions.vid 
[2025-06-03 06:44:48 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:44:48 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:44:49 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 06:44:49 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=h8xaaa5agz 
[2025-06-03 06:44:49 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 06:44:49 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 06:44:50 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 06:44:50 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=h8xaaa5agz 
[2025-06-03 06:44:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:44:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:44:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:44:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:44:57 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:44:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:44:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:44:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:44:57 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:44:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:44:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:44:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:44:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:00 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:45:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:45:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:45:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:45:00 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:45:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:45:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:45:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:09 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:14 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:19 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:22 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:45:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:45:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:45:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:45:22 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:45:24 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:29 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:34 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:45:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:45:39 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:45:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:09 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:14 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:19 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:24 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:29 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:34 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:39 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:46:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:09 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:14 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:19 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:24 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:29 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:34 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:39 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:47:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:09 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:14 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:19 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:24 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:29 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:34 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:39 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:48:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:09 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:14 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:19 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:24 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:29 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:34 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:39 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:49:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:10 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:15 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:20 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:25 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:30 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:35 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:40 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:45 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:50 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:50:55 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:00 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:05 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:10 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:15 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:20 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:25 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:30 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:35 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:40 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:45 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:50 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:51:55 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:00 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:05 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:10 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:16 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:21 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:26 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:31 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:36 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:41 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:46 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:52 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:52:57 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:02 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:07 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:12 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:17 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:22 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:27 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:32 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:37 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:42 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:47 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:53 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:53:58 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:03 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:08 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:13 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:18 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:23 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:28 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:33 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:38 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:54:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:55:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:55:09 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:55:14 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:55:20 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:55:25 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 06:58:18 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 06:58:20 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 06:58:20 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 06:58:22 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 06:58:22 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 06:59:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 06:59:17 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:59:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:59:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:59:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:59:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 06:59:23 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 06:59:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 06:59:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 06:59:24 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 06:59:26 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 06:59:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 06:59:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 06:59:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 06:59:26 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 06:59:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:59:27 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 06:59:27 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:59:27 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=j3ukx2p1ai 
[2025-06-03 06:59:27 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:59:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 06:59:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:59:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 06:59:27 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:59:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:59:27 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:59:27 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:59:27 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true 
[2025-06-03 06:59:27 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:59:36 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 06:59:36 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=yruemjify8k 
[2025-06-03 06:59:36 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 06:59:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:59:36 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 06:59:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 06:59:36 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:59:36 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 06:59:36 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 06:59:36 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 06:59:36 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 06:59:36 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:08:47 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 07:08:52 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 07:08:52 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 07:08:53 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 07:08:53 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 07:09:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 07:09:13 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 07:09:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 07:09:13 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 07:09:13 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 07:09:16 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:09:16 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=jbc0xwirr0i 
[2025-06-03 07:09:16 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 07:09:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:09:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 07:09:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:09:16 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:09:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 07:09:16 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:09:16 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 07:09:16 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 07:09:17 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:10:22 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 07:10:26 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 07:10:30 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 07:10:32 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 07:10:32 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:10:32 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=13l5ioh1g28 
[2025-06-03 07:10:32 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=13l5ioh1g28 
[2025-06-03 07:10:32 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 07:10:47 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 07:10:47 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 07:10:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 07:10:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 07:10:48 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 07:10:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:10:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:10:55 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:10:55 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=tx7jkxfuv1l 
[2025-06-03 07:10:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:10:55 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 07:10:55 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:10:55 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 07:10:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:10:55 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 07:10:55 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 07:10:55 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:10:55 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 07:10:55 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:20:37 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 07:20:39 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 07:20:39 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 07:20:40 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 07:20:40 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 07:20:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 07:20:49 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 07:20:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 07:20:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 07:20:50 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 07:20:51 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:20:51 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:20:51 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=d7v2pumyjmj 
[2025-06-03 07:20:51 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 07:20:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:20:51 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 07:20:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:20:51 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:20:51 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 07:20:51 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 07:20:51 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:20:52 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 07:20:52 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:20:53 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:20:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:20:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 07:20:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 07:20:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:20:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:21:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 07:21:14 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 07:21:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 07:21:14 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 07:21:14 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 07:21:15 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 07:21:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 07:21:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 07:21:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 07:21:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 07:21:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:21:16 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:21:16 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:21:16 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:21:16 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=qoms8x7s5wg 
[2025-06-03 07:21:16 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 07:21:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 07:21:16 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 07:21:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 07:21:16 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:21:16 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 07:21:16 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:21:16 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true 
[2025-06-03 07:21:16 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 07:21:16 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 07:21:25 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:21:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:21:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 07:21:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 07:21:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:21:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:21:28 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:21:28 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 07:21:43 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:21:43 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 07:22:19 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=qoms8x7s5wg 
[2025-06-03 07:22:19 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 07:22:19 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:22:19 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:22:19 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zrcos7buujr 
[2025-06-03 07:22:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 07:22:19 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 07:22:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 07:22:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:22:19 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 07:22:19 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 07:22:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:22:19 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 07:22:19 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true 
[2025-06-03 07:22:22 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 07:22:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 07:22:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 07:22:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 07:22:22 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 07:22:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:22:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:22:23 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:22:23 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:22:23 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=c91v43qnub7 
[2025-06-03 07:22:23 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true 
[2025-06-03 07:22:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 07:22:23 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 07:22:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 07:22:23 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:22:23 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 07:22:23 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:22:23 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 07:22:23 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 07:22:25 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:22:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 07:22:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 07:22:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 07:22:30 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:22:30 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:22:30 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zozwdsalpdn 
[2025-06-03 07:22:30 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:22:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:22:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:22:30 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 07:22:30 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:22:30 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:22:30 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 07:22:30 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 07:22:30 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 07:22:32 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:22:34 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:22:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:22:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 07:22:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 07:22:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:22:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:22:36 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:22:36 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 07:22:57 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:22:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:22:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 07:22:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 07:22:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:22:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:23:00 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:23:00 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 07:23:02 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:23:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:23:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 07:23:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 07:23:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:23:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:23:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 07:23:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 07:23:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 07:23:05 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:23:05 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:23:05 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:23:05 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=1r24peixpcr 
[2025-06-03 07:23:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:23:06 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 07:23:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:23:06 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:23:06 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 07:23:06 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:23:06 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 07:23:06 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 07:23:07 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:23:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:23:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 07:23:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 07:23:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:23:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:23:07 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:23:18 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:23:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:23:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 07:23:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 07:23:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:23:18 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:23:20 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:23:20 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 07:24:07 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:24:07 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 07:25:14 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 07:25:16 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 07:25:16 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 07:25:17 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 07:25:17 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ywc6yjpsnao 
[2025-06-03 07:25:17 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 07:25:17 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=spwuvrvg4wm 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ltxmk4hg2ml 
[2025-06-03 07:25:17 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 07:25:17 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:25:17 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pu0m0a2hioq 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:25:17 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=7f4sam22uoe 
[2025-06-03 07:25:17 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:25:19 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:25:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ywc6yjpsnao 
[2025-06-03 07:25:28 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=spwuvrvg4wm 
[2025-06-03 07:25:29 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pu0m0a2hioq 
[2025-06-03 07:25:29 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=7f4sam22uoe 
[2025-06-03 07:25:29 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ltxmk4hg2ml 
[2025-06-03 07:25:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 07:25:33 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 07:25:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 07:25:33 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 07:25:33 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 07:25:34 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 07:25:34 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:25:34 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=m8gmhb0bb2i 
[2025-06-03 07:25:34 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 07:25:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:25:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 07:25:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:25:34 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:25:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 07:25:34 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 07:25:34 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 07:25:34 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:25:34 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 07:25:35 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:25:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 07:25:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 07:25:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 07:25:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:25:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 07:25:46 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '2' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 07:25:46 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 07:26:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=m8gmhb0bb2i 
[2025-06-03 07:26:06 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:26:06 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=psqnl7wqavo 
[2025-06-03 07:26:38 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=psqnl7wqavo 
[2025-06-03 07:26:39 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 07:26:39 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=paibfqyaiq7 
[2025-06-03 08:09:38 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 08:09:39 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 08:09:40 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 08:09:43 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 08:09:43 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:09:43 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 08:09:43 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:09:43 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9xuqlfaer8r 
[2025-06-03 08:09:43 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9xuqlfaer8r 
[2025-06-03 08:10:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 08:10:02 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:10:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:10:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:10:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:10:03 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:10:03 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:10:03 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=4qxqgswi6xc 
[2025-06-03 08:10:03 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:10:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:10:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:10:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:10:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:10:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:10:03 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:10:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:10:03 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:10:03 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:10:08 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:10:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:10:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 08:10:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 08:10:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:10:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:10:17 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:10:17 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:10:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:10:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:10:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:10:28 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:10:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 08:10:34 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:10:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:10:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:10:34 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:10:36 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 08:10:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 08:10:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 08:10:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 08:10:36 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 08:10:36 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=4qxqgswi6xc 
[2025-06-03 08:10:36 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:10:36 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rie2m06wu4i 
[2025-06-03 08:10:36 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:10:36 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:10:37 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:10:37 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:10:37 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=e8xs2ygkrem 
[2025-06-03 08:10:37 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 08:10:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 08:10:37 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:10:37 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 08:10:37 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:10:37 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:10:37 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:10:37 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:10:37 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:10:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 08:10:52 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:10:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:10:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:10:53 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:10:58 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:10:59 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:10:59 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zp99yvl2y4j 
[2025-06-03 08:10:59 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:10:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:10:59 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:10:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:10:59 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:10:59 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:10:59 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:10:59 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:10:59 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:10:59 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:11:01 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:11:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:11:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 08:11:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 08:11:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:11:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:11:03 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:11:03 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:11:34 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:11:34 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:15:40 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 08:15:41 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 08:15:42 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 08:15:42 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 08:15:42 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:15:42 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=0guf774zeadg 
[2025-06-03 08:15:42 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:15:42 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ceujq6cky7d 
[2025-06-03 08:15:42 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 08:15:42 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:15:44 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:15:48 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:16:01 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:16:01 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:16:01 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=osbai59w06q 
[2025-06-03 08:16:01 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:16:27 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=osbai59w06q 
[2025-06-03 08:16:27 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=0guf774zeadg 
[2025-06-03 08:16:27 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ceujq6cky7d 
[2025-06-03 08:16:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 08:16:42 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:16:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:16:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:16:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:16:48 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 08:16:48 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:16:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:16:49 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:16:49 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:16:50 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 08:16:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 08:16:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 08:16:50 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 08:16:50 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 08:16:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:16:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:16:51 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:16:51 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:16:51 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=23hhiq0a6xz 
[2025-06-03 08:16:51 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:16:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 08:16:52 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:16:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 08:16:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:16:52 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:16:52 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:16:52 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:16:52 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:16:52 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 08:16:54 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:16:54 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:16:54 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2g5xerhzqwm 
[2025-06-03 08:16:54 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:16:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:16:54 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:16:54 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:16:54 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:16:54 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:16:54 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:16:54 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:16:54 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:16:54 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:16:58 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:16:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:16:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 08:16:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 08:16:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:16:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:17:04 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:17:05 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:17:49 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:17:50 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:18:01 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:18:01 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:18:21 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:18:21 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:19:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=23hhiq0a6xz 
[2025-06-03 08:19:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2g5xerhzqwm 
[2025-06-03 08:19:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:19:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9jqfx2lod8q 
[2025-06-03 08:19:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:19:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2h0iyu2h9lg 
[2025-06-03 08:20:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=2h0iyu2h9lg 
[2025-06-03 08:20:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9jqfx2lod8q 
[2025-06-03 08:20:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:20:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xa3g1fciyq 
[2025-06-03 08:20:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:20:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=bz19dy533hd 
[2025-06-03 08:21:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=xa3g1fciyq 
[2025-06-03 08:21:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:21:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=of9egfx7t8o 
[2025-06-03 08:22:56 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=bz19dy533hd 
[2025-06-03 08:22:56 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=of9egfx7t8o 
[2025-06-03 08:22:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:22:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ldal6pa3m7 
[2025-06-03 08:22:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:22:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=y0xd9pct5p 
[2025-06-03 08:26:25 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 08:26:27 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 08:26:27 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 08:26:27 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 08:26:27 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:26:27 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:26:27 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=oo7cr0tyosh 
[2025-06-03 08:26:27 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 08:26:27 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:26:27 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:26:31 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:26:32 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:26:32 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=acj6armp5so 
[2025-06-03 08:26:33 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=oo7cr0tyosh 
[2025-06-03 08:26:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 08:26:38 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:26:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:26:38 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:26:38 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:26:41 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=acj6armp5so 
[2025-06-03 08:26:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 08:26:59 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:27:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:27:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:27:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:27:01 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 08:27:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 08:27:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 08:27:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 08:27:01 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 08:27:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:27:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:27:02 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:27:02 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:27:02 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pc8bwdftvb8 
[2025-06-03 08:27:02 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:27:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 08:27:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:27:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true' 
[2025-06-03 08:27:02 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:27:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:27:02 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:27:02 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:27:02 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:27:02 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=true 
[2025-06-03 08:27:04 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:27:04 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:27:04 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=jdznka58wt 
[2025-06-03 08:27:04 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:27:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:27:04 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:27:04 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:27:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:27:04 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:27:04 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:27:04 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:27:04 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:27:04 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:27:08 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:27:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:27:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 08:27:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 08:27:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:27:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:27:14 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:27:14 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:29:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=pc8bwdftvb8 
[2025-06-03 08:29:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:29:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=f1z9w87e1pc 
[2025-06-03 08:30:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=f1z9w87e1pc 
[2025-06-03 08:30:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:30:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=klma4szt1h 
[2025-06-03 08:33:56 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=jdznka58wt 
[2025-06-03 08:33:56 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=klma4szt1h 
[2025-06-03 08:33:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:33:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=n315m6je49l 
[2025-06-03 08:33:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:33:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ajptxwmsm6 
[2025-06-03 08:34:33 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:34:33 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:38:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=n315m6je49l 
[2025-06-03 08:38:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ajptxwmsm6 
[2025-06-03 08:38:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:38:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=lv532sm853 
[2025-06-03 08:38:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:38:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=lnbjm1zfxt 
[2025-06-03 08:39:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=lv532sm853 
[2025-06-03 08:39:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=lnbjm1zfxt 
[2025-06-03 08:39:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:39:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=x9oyadboj9 
[2025-06-03 08:39:57 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:39:57 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9bhw1qubn5 
[2025-06-03 08:40:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9bhw1qubn5 
[2025-06-03 08:40:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=x9oyadboj9 
[2025-06-03 08:40:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:40:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=7zyon3n2wrr 
[2025-06-03 08:40:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:40:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=swkn6fstw5i 
[2025-06-03 08:41:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=swkn6fstw5i 
[2025-06-03 08:41:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=7zyon3n2wrr 
[2025-06-03 08:41:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:41:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=il4ndg57gf 
[2025-06-03 08:41:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:41:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ttntbougx88 
[2025-06-03 08:42:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=ttntbougx88 
[2025-06-03 08:42:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=il4ndg57gf 
[2025-06-03 08:42:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:42:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=hu98n3b8l85 
[2025-06-03 08:42:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:42:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rv9w0088zo 
[2025-06-03 08:43:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=rv9w0088zo 
[2025-06-03 08:43:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=hu98n3b8l85 
[2025-06-03 08:43:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:43:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=8lilj7rvegt 
[2025-06-03 08:43:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:43:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=o11vqh1v0h 
[2025-06-03 08:45:24 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=8lilj7rvegt 
[2025-06-03 08:45:25 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=o11vqh1v0h 
[2025-06-03 08:54:13 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 08:54:15 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 08:54:15 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 08:54:16 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 08:54:16 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 08:54:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 08:54:51 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:54:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:54:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:54:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:54:53 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:54:53 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:54:53 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=a5fiehpoxtk 
[2025-06-03 08:54:53 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:54:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:54:53 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:54:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:54:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:54:53 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:54:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:54:53 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:54:53 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:54:53 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:54:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 08:54:58 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 08:54:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 08:54:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 08:54:58 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 08:54:59 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 08:54:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 08:54:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 08:54:59 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 08:54:59 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 08:55:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:55:02 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:55:03 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 08:55:03 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:55:03 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zuv7odwgs0e 
[2025-06-03 08:55:03 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 08:55:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 08:55:03 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 08:55:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 08:55:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:55:03 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 08:55:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 08:55:03 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 08:55:03 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 08:55:03 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 08:55:19 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:55:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 08:55:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 08:55:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 08:55:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:55:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 08:55:33 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:55:33 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:56:29 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:56:29 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:56:36 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 08:56:36 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 08:58:35 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=a5fiehpoxtk 
[2025-06-03 08:58:35 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:58:35 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=9f8wogtyk98 
[2025-06-03 08:59:55 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=zuv7odwgs0e 
[2025-06-03 08:59:57 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 08:59:57 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=nx4aqosd1f 
[2025-06-03 09:08:53 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:08:55 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:08:55 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:08:56 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:08:56 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:08:56 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:08:56 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=kxksxxuvigr 
[2025-06-03 09:08:56 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:08:56 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:08:56 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:08:56 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:08:58 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:08:58 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=w192bxrwjsm 
[2025-06-03 09:09:09 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=kxksxxuvigr 
[2025-06-03 09:09:09 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=w192bxrwjsm 
[2025-06-03 09:09:18 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:09:18 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:09:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:09:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:09:19 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:09:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3'&&password='eccbc87e4b5ce2fe28308fd9f2a7baf3' 
[2025-06-03 09:09:22 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:09:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='3' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:09:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='3' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:09:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:09:29 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:09:29 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:09:29 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=e0izp56srvl 
[2025-06-03 09:09:29 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:09:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:09:29 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:09:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:09:29 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:09:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:09:29 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:09:29 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:09:29 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:09:29 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:09:31 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '3' and fp.acceptance=1 
[2025-06-03 09:09:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9' AND OWNER ='1' 
[2025-06-03 09:09:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 09:09:31 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' AND OWNER ='1' 
[2025-06-03 09:09:31 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 09:09:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:09:32 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:09:32 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:09:32 +08:00Z] [INFO] - yjs 客户端连接尝试，URL: /?yjs/gq-cpDNPIhUanbwtnyBG9 
[2025-06-03 09:09:32 +08:00Z] [INFO] - yjs 客户端连接成功: fileid=gq-cpDNPIhUanbwtnyBG9, wid=94y7zj26ywl 
[2025-06-03 09:09:32 +08:00Z] [INFO] - 用户连接... 
[2025-06-03 09:09:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 09:09:32 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["gq-cpDNPIhUanbwtnyBG9"] 
[2025-06-03 09:09:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false' 
[2025-06-03 09:09:32 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:09:32 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:09:32 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:09:32 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='gq-cpDNPIhUanbwtnyBG9' AND files.currenthead=versions.vid 
[2025-06-03 09:09:32 +08:00Z] [INFO] - 用户加入房间 gq-cpDNPIhUanbwtnyBG9?file_id=gq-cpDNPIhUanbwtnyBG9&filename=89&filetype=txt&filesuffix=txt&file_owner=1&createtime=2025-06-02T13:52:08.000Z&readOnly=false 
[2025-06-03 09:09:32 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:09:35 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:09:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:09:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 09:09:35 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 09:09:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:09:35 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:09:53 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '3' AND file_id = 'gq-cpDNPIhUanbwtnyBG9' 
[2025-06-03 09:09:53 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 09:13:04 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=94y7zj26ywl 
[2025-06-03 09:13:05 +08:00Z] [WARN] - yjs 用户关闭连接: fileid=gq-cpDNPIhUanbwtnyBG9, wid=e0izp56srvl 
[2025-06-03 09:44:02 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:44:04 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:44:04 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:44:04 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:44:05 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:44:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:44:22 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:44:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:44:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:44:22 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:44:24 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 09:44:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 09:44:24 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 09:44:24 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 09:44:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:44:25 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:44:25 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:44:26 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:44:27 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["ZN743TAggFZ5pXjQEKQwf"] 
[2025-06-03 09:44:27 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' 
[2025-06-03 09:44:27 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='ZN743TAggFZ5pXjQEKQwf' AND files.currenthead=versions.vid 
[2025-06-03 09:44:27 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:44:27 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:44:27 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:44:27 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/ZN743TAggFZ5pXjQEKQwf 
[2025-06-03 09:44:27 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=ZN743TAggFZ5pXjQEKQwf, wid=m8qsplund8c 
[2025-06-03 09:44:27 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:44:28 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:44:32 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:44:32 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=ZN743TAggFZ5pXjQEKQwf, wid=m8qsplund8c 
[2025-06-03 09:44:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:44:32 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:44:32 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:44:32 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:44:33 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:44:34 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Bfap5zFgjAhC1hqHMsqot"] 
[2025-06-03 09:44:34 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Bfap5zFgjAhC1hqHMsqot' 
[2025-06-03 09:44:34 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Bfap5zFgjAhC1hqHMsqot' AND files.currenthead=versions.vid 
[2025-06-03 09:44:34 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:44:34 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:44:34 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:44:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 09:44:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=8xrlypqvlvd 
[2025-06-03 09:44:34 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:44:34 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:44:35 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:44:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:44:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:44:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:44:43 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:44:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:44:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:44:49 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:44:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:44:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:44:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:44:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:44:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8xrlypqvlvd","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:47:43 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:47:44 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:47:45 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:47:45 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:47:45 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:48:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:48:05 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:48:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:48:07 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:48:07 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:48:08 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:48:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Bfap5zFgjAhC1hqHMsqot"] 
[2025-06-03 09:48:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Bfap5zFgjAhC1hqHMsqot' 
[2025-06-03 09:48:08 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Bfap5zFgjAhC1hqHMsqot' AND files.currenthead=versions.vid 
[2025-06-03 09:48:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:48:08 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:48:08 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:48:08 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 09:48:08 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=ronnj6a6aq 
[2025-06-03 09:48:08 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:48:08 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:48:09 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:48:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"ronnj6a6aq","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"ronnj6a6aq","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:23 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:48:23 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"ronnj6a6aq","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:28 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"ronnj6a6aq","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:33 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"ronnj6a6aq","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:38 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"ronnj6a6aq","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:38 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:48:38 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=ronnj6a6aq 
[2025-06-03 09:48:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 09:48:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=v8sb3k5dljc 
[2025-06-03 09:48:39 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:48:39 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:48:43 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:48 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:53 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:53 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:48:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:58 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:48:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:03 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"v8sb3k5dljc","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:11 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:49:11 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=v8sb3k5dljc 
[2025-06-03 09:49:12 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 09:49:12 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=xyxr6pso2y 
[2025-06-03 09:49:12 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:49:12 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:49:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:19 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:24 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:24 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:29 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:29 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:34 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:34 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xyxr6pso2y","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:55 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:49:55 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=xyxr6pso2y 
[2025-06-03 09:49:56 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 09:49:56 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=2fkx9otaim7 
[2025-06-03 09:49:56 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:49:56 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:49:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:49:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:50:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"2fkx9otaim7","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:52:06 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:52:09 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:52:09 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:52:10 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:52:10 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:52:10 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 09:52:10 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=cnietadbr5a 
[2025-06-03 09:52:10 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:52:10 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:52:10 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:52:15 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cnietadbr5a","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:52:20 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cnietadbr5a","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 09:52:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 09:52:22 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 09:52:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:52:23 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=cnietadbr5a 
[2025-06-03 09:52:23 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:52:23 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:52:25 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:52:26 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:52:26 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["ZN743TAggFZ5pXjQEKQwf"] 
[2025-06-03 09:52:26 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='ZN743TAggFZ5pXjQEKQwf' 
[2025-06-03 09:52:26 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:52:26 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:52:26 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='ZN743TAggFZ5pXjQEKQwf' AND files.currenthead=versions.vid 
[2025-06-03 09:52:27 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:52:27 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/ZN743TAggFZ5pXjQEKQwf 
[2025-06-03 09:52:27 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=ZN743TAggFZ5pXjQEKQwf, wid=0t14xr6hoaf 
[2025-06-03 09:52:27 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:52:27 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:52:30 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:52:30 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:35 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:40 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:42 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:52:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:45 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:50 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:55 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"0t14xr6hoaf","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:52:57 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:52:57 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=ZN743TAggFZ5pXjQEKQwf, wid=0t14xr6hoaf 
[2025-06-03 09:54:28 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 09:54:30 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 09:54:30 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 09:54:30 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 09:54:30 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:54:30 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 09:54:33 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/ZN743TAggFZ5pXjQEKQwf 
[2025-06-03 09:54:33 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=ZN743TAggFZ5pXjQEKQwf, wid=gfur32btjvp 
[2025-06-03 09:54:33 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:54:33 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:54:33 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:54:38 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"gfur32btjvp","fileid":"ZN743TAggFZ5pXjQEKQwf"}] 
[2025-06-03 09:54:42 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=ZN743TAggFZ5pXjQEKQwf, wid=gfur32btjvp 
[2025-06-03 09:54:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 09:54:43 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 09:54:43 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 09:54:43 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:54:44 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 09:54:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 09:54:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 09:54:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 09:54:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 09:54:44 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:54:45 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 09:54:45 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["lxfKZv7CqhZWgNqjaPE-v"] 
[2025-06-03 09:54:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 09:54:45 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 09:54:45 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 09:54:45 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='lxfKZv7CqhZWgNqjaPE-v' AND files.currenthead=versions.vid 
[2025-06-03 09:54:45 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 09:54:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 09:54:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=n88uextoyf8 
[2025-06-03 09:54:45 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:54:45 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 09:54:48 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n88uextoyf8","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 09:54:50 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n88uextoyf8","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 09:54:52 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 09:54:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 09:54:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-06-03 09:54:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 09:54:52 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 09:54:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:54:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:54:52 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 09:54:53 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n88uextoyf8","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 09:54:55 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n88uextoyf8","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 09:54:58 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=n88uextoyf8 
[2025-06-03 09:54:58 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:55:00 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:55:03 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 09:55:05 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:00:35 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 10:00:37 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 10:00:37 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 10:00:37 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 10:00:38 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 10:00:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 10:00:51 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 10:00:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:00:51 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:00:51 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:00:53 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 10:00:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 10:00:53 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 10:00:53 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 10:00:57 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 10:00:57 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:00:57 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 10:00:58 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["lxfKZv7CqhZWgNqjaPE-v"] 
[2025-06-03 10:00:58 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 10:00:58 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 10:00:58 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:00:58 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='lxfKZv7CqhZWgNqjaPE-v' AND files.currenthead=versions.vid 
[2025-06-03 10:00:58 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 10:00:58 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 10:00:58 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=toht60gboxs 
[2025-06-03 10:00:58 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:00:58 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:00 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:00 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=toht60gboxs 
[2025-06-03 10:01:00 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 10:01:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 10:01:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 10:01:00 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 10:01:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:01:01 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:01:01 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:01:02 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 10:01:02 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["Bfap5zFgjAhC1hqHMsqot"] 
[2025-06-03 10:01:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Bfap5zFgjAhC1hqHMsqot' 
[2025-06-03 10:01:02 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 10:01:02 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:01:02 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='Bfap5zFgjAhC1hqHMsqot' AND files.currenthead=versions.vid 
[2025-06-03 10:01:02 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 10:01:02 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 10:01:02 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=xstld0knta 
[2025-06-03 10:01:02 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:02 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:03 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 10:01:03 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:04 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'Bfap5zFgjAhC1hqHMsqot' 
[2025-06-03 10:01:04 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:01:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:08 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'Bfap5zFgjAhC1hqHMsqot' 
[2025-06-03 10:01:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:01:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:13 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:17 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:23 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:28 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xstld0knta","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:33 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:33 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=xstld0knta 
[2025-06-03 10:01:33 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:01:34 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 10:01:34 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=cl5roycbihv 
[2025-06-03 10:01:34 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:34 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:38 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:38 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:43 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:43 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:48 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:51 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:51 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:01:53 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:56 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:58 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:01:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:03 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"cl5roycbihv","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:06 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:02:06 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=cl5roycbihv 
[2025-06-03 10:02:07 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 10:02:07 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=n3qvzyaule 
[2025-06-03 10:02:07 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:02:07 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:02:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:19 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:21 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:23 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:24 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:24 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:02:26 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:28 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:29 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:31 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:33 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:34 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:38 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"n3qvzyaule","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:38 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=n3qvzyaule 
[2025-06-03 10:02:39 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 10:02:39 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=lr0zurht0k 
[2025-06-03 10:02:39 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:02:39 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:02:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:40 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'Bfap5zFgjAhC1hqHMsqot' 
[2025-06-03 10:02:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:02:41 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:41 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:02:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:43 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:46 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:51 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:56 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:02:59 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:03:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:03 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='Bfap5zFgjAhC1hqHMsqot' 
[2025-06-03 10:03:03 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:03:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:05 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'Bfap5zFgjAhC1hqHMsqot' 
[2025-06-03 10:03:05 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:03:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"lr0zurht0k","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:11 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=lr0zurht0k 
[2025-06-03 10:03:12 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 10:03:12 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=vkd9u3ta00g 
[2025-06-03 10:03:12 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:03:12 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:03:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:15 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:03:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:19 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:19 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:20 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:21 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:24 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:24 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:25 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:26 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:29 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:29 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:30 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:31 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:33 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:03:34 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:34 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:35 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:40 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:41 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vkd9u3ta00g","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:42 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=vkd9u3ta00g 
[2025-06-03 10:03:42 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:03:43 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 10:03:43 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=q8385ig1zs 
[2025-06-03 10:03:43 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:03:43 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:03:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:45 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:46 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:48 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:03:48 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:50 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:51 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:53 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:55 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:56 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:58 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:03:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:00 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:03 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:04:03 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:05 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:10 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:15 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:19 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:19 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:20 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:21 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:23 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:23 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:24 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:24 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:25 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:26 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:28 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:28 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:29 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:30 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:30 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:31 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:33 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:33 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:34 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:35 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:35 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:38 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:40 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:40 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"q8385ig1zs","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:40 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:04:40 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=q8385ig1zs 
[2025-06-03 10:04:40 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/Bfap5zFgjAhC1hqHMsqot 
[2025-06-03 10:04:40 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=Bfap5zFgjAhC1hqHMsqot, wid=xigxh0p3c5 
[2025-06-03 10:04:40 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:04:40 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:04:41 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"xigxh0p3c5","fileid":"Bfap5zFgjAhC1hqHMsqot"}] 
[2025-06-03 10:04:42 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:04:42 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=Bfap5zFgjAhC1hqHMsqot, wid=xigxh0p3c5 
[2025-06-03 10:04:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:04:42 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:04:42 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:04:42 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:43 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:44 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 10:04:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 10:04:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 10:04:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 10:04:44 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:45 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:45 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:45 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 10:04:46 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:46 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:04:46 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:04:46 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:04:47 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:48 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:49 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:50 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:50 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:51 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:51 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:52 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:53 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:54 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:55 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:55 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:57 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:57 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:57 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:58 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:04:59 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:00 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:00 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-06-03 10:05:00 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 10:05:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 10:05:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 10:05:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 10:05:02 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:02 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:02 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 10:05:02 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:05:02 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:03 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:04 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:05 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 10:05:05 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["lxfKZv7CqhZWgNqjaPE-v"] 
[2025-06-03 10:05:05 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 10:05:05 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 10:05:05 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 10:05:05 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:05 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='lxfKZv7CqhZWgNqjaPE-v' AND files.currenthead=versions.vid 
[2025-06-03 10:05:05 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 10:05:05 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 10:05:05 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=vzby2sljoxl 
[2025-06-03 10:05:05 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:05 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:05:05 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 10:05:06 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 10:05:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 10:05:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-06-03 10:05:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 10:05:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 10:05:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:05:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:05:06 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 10:05:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:10 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:10 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:10 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:10 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 10:05:10 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 10:05:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"vzby2sljoxl","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 10:05:12 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=vzby2sljoxl 
[2025-06-03 10:05:12 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:13 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 10:05:14 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:04:37 +08:00Z] [INFO] - 开始初始化 node 方法 
[2025-06-03 11:04:44 +08:00Z] [SUCCESS] - Socket Server is running... 
[2025-06-03 11:04:44 +08:00Z] [SUCCESS] - WS 服务初始化成功，连接地址：ws://localhost:9000 
[2025-06-03 11:04:45 +08:00Z] [SUCCESS] - Node Serve is running at http://localhost:8080. 
[2025-06-03 11:04:45 +08:00Z] [INFO] - 连接数据库成功！ 
[2025-06-03 11:05:10 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4'&&password='a87ff679a2f3e71d9181a67b7542122c' 
[2025-06-03 11:05:10 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 11:05:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 11:05:11 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 11:05:11 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 11:05:16 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1'&&password='c4ca4238a0b923820dcc509a6f75849b' 
[2025-06-03 11:05:16 +08:00Z] [DEBUG] - [status] 200 [msg] 登录成功 
[2025-06-03 11:05:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='1' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 11:05:17 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='1' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 11:05:17 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 11:05:19 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 11:05:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 11:05:19 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 11:05:19 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 11:05:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:05:21 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 11:05:21 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:05:21 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 11:05:22 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 11:05:22 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["lxfKZv7CqhZWgNqjaPE-v"] 
[2025-06-03 11:05:22 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:05:22 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 11:05:22 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:05:22 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='lxfKZv7CqhZWgNqjaPE-v' AND files.currenthead=versions.vid 
[2025-06-03 11:05:22 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 11:05:22 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 11:05:22 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=hlwjjrt6bfh 
[2025-06-03 11:05:22 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:05:23 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:05:23 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:05:23 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:05:24 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:05:24 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:05:25 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:05:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"hlwjjrt6bfh","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:28 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 11:05:28 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["lxfKZv7CqhZWgNqjaPE-v"] 
[2025-06-03 11:05:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:05:29 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 11:05:29 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:05:29 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='lxfKZv7CqhZWgNqjaPE-v' AND files.currenthead=versions.vid 
[2025-06-03 11:05:29 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 11:05:29 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 11:05:29 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=8mhpluuaegr 
[2025-06-03 11:05:29 +08:00Z] [DEBUG] - 消息已发送给 wid=hlwjjrt6bfh 
[2025-06-03 11:05:29 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:29 +08:00Z] [DEBUG] - 消息已发送给 wid=hlwjjrt6bfh 
[2025-06-03 11:05:29 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-06-03 11:05:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:05:29 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-06-03 11:05:29 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:05:29 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:29 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:30 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:05:30 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 11:05:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-06-03 11:05:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 11:05:30 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 11:05:30 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:05:30 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:05:30 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:05:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"hlwjjrt6bfh","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:34 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"hlwjjrt6bfh","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:35 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'read' 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:05:35 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 11:05:37 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:37 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"hlwjjrt6bfh","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:37 +08:00Z] [DEBUG] - 消息已发送给 wid=hlwjjrt6bfh 
[2025-06-03 11:05:37 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:38 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:38 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"hlwjjrt6bfh","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:40 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=hlwjjrt6bfh 
[2025-06-03 11:05:40 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 11:05:40 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["lxfKZv7CqhZWgNqjaPE-v"] 
[2025-06-03 11:05:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:05:40 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 11:05:40 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:05:40 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='lxfKZv7CqhZWgNqjaPE-v' AND files.currenthead=versions.vid 
[2025-06-03 11:05:40 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 11:05:40 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 11:05:41 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=6q15h03c65y 
[2025-06-03 11:05:41 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:41 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:41 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:41 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:41 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:41 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-06-03 11:05:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:05:41 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-06-03 11:05:41 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:05:41 +08:00Z] [DEBUG] - 消息已发送给 wid=6q15h03c65y 
[2025-06-03 11:05:41 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:42 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:42 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:42 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:42 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"6q15h03c65y","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:42 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:42 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:43 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:43 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:43 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=6q15h03c65y 
[2025-06-03 11:05:44 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 11:05:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 11:05:44 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 11:05:44 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 11:05:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:44 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:05:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 11:05:45 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 11:05:45 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["lxfKZv7CqhZWgNqjaPE-v"] 
[2025-06-03 11:05:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:05:45 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='lxfKZv7CqhZWgNqjaPE-v' AND files.currenthead=versions.vid 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 11:05:45 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 11:05:45 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=xcs4eyqo76s 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:45 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:45 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - 消息已发送给 wid=xcs4eyqo76s 
[2025-06-03 11:05:45 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:05:45 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:05:45 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:45 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:46 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:46 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:46 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:46 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:46 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:47 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 11:05:47 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:47 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:47 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:47 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:47 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:47 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:47 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:47 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:48 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:48 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:50 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:51 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:54 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:54 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:54 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:54 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:55 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:05:55 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:05:55 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:56 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:05:59 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:00 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:06:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 11:06:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-06-03 11:06:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 11:06:00 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 11:06:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:06:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:06:00 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:06:00 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:01 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:01 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:01 +08:00Z] [DEBUG] - 消息已发送给 wid=xcs4eyqo76s 
[2025-06-03 11:06:01 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:02 +08:00Z] [DEBUG] - 消息已发送给 wid=xcs4eyqo76s 
[2025-06-03 11:06:02 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:02 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:02 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:03 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:06:03 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 11:06:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:05 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"xcs4eyqo76s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:06 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:06 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:06 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=xcs4eyqo76s 
[2025-06-03 11:06:06 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 11:06:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 11:06:06 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 11:06:06 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 11:06:07 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:06:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM file_permissions 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 11:06:08 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 11:06:08 +08:00Z] [INFO] - SQL (parameterized): SELECT vid, fileid, lasteditor, createtime, description FROM versions WHERE fileid = ? AND description is not null ORDER BY createtime DESC -- Params: ["lxfKZv7CqhZWgNqjaPE-v"] 
[2025-06-03 11:06:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - [status] 200 [msg] 获取版本列表成功 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - [status] 200 [msg] 文件查找成功 
[2025-06-03 11:06:08 +08:00Z] [INFO] - SQL (direct): SELECT versions.content FROM files,versions WHERE files.fileid='lxfKZv7CqhZWgNqjaPE-v' AND files.currenthead=versions.vid 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - [status] 6003 [msg] 参数缺失 
[2025-06-03 11:06:08 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 11:06:08 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=ckwkqu4984s 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:08 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:08 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:08 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:08 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='4' 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:08 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:08 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:08 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:08 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:08 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:09 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:09 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:09 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:09 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:09 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:09 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"ckwkqu4984s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:09 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:09 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:09 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:09 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:09 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:09 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:09 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 11:06:10 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"ckwkqu4984s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"ckwkqu4984s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:12 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:12 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"ckwkqu4984s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:12 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:12 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:12 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:12 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:13 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:13 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:13 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:13 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:13 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:13 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"ckwkqu4984s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:13 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:13 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:13 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:13 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:13 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:13 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:13 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:13 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:13 +08:00Z] [DEBUG] - 消息已发送给 wid=ckwkqu4984s 
[2025-06-03 11:06:13 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"ckwkqu4984s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:15 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"},{"wid":"ckwkqu4984s","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:15 +08:00Z] [DEBUG] - 消息已发送给 wid=8mhpluuaegr 
[2025-06-03 11:06:15 +08:00Z] [INFO] - 消息广播完成，共发送给 1 个客户端 
[2025-06-03 11:06:15 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=ckwkqu4984s 
[2025-06-03 11:06:15 +08:00Z] [INFO] - SQL (direct): SELECT fp.file_owner_id,file_id
         FROM file_permissions fp 
         WHERE fp.user_id = '1' and fp.acceptance=1 
[2025-06-03 11:06:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='JRvtQu2IWPifgQkjXPoyG' AND OWNER ='3' 
[2025-06-03 11:06:15 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE fileid='lxfKZv7CqhZWgNqjaPE-v' AND OWNER ='4' 
[2025-06-03 11:06:15 +08:00Z] [DEBUG] - [status] 200 [msg] 文件列表获取成功 
[2025-06-03 11:06:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:17 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:06:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:19 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:19 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 11:06:20 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:21 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:23 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:24 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:25 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:26 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:29 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:29 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:30 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:31 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:32 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:06:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:34 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:34 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:38 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:39 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:40 +08:00Z] [INFO] - SQL (direct): SELECT fp.*, u.username 
         FROM file_permissions fp 
         JOIN users u ON fp.user_id = u.userid 
         WHERE fp.file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:06:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查询成功 
[2025-06-03 11:06:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='1' 
[2025-06-03 11:06:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='2' 
[2025-06-03 11:06:40 +08:00Z] [INFO] - SQL (direct): SELECT * FROM users WHERE userid='3' 
[2025-06-03 11:06:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:06:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:06:40 +08:00Z] [DEBUG] - [status] 200 [msg] 查找用户成功 
[2025-06-03 11:06:41 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:43 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:44 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:48 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"8mhpluuaegr","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:48 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=8mhpluuaegr 
[2025-06-03 11:06:48 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:06:48 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 11:06:48 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=27bq3kvdp68 
[2025-06-03 11:06:48 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:06:48 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:06:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:49 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:50 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:06:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:54 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:06:58 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:00 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:04 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:05 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:07:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:09 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:14 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:15 +08:00Z] [INFO] - SQL (direct): UPDATE file_permissions 
         SET permission_type = 'edit' 
         WHERE user_id = '1' AND file_id = 'lxfKZv7CqhZWgNqjaPE-v' 
[2025-06-03 11:07:15 +08:00Z] [DEBUG] - [status] 200 [msg] 权限更新成功 
[2025-06-03 11:07:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:19 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:20 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:20 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:21 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:07:21 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:21 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"27bq3kvdp68","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:23 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=27bq3kvdp68 
[2025-06-03 11:07:24 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:07:25 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:07:25 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:07:25 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 11:07:25 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=b6czynlxp2h 
[2025-06-03 11:07:26 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:07:26 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:07:26 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:26 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:30 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:30 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:30 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:30 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:31 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:31 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:33 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:35 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:35 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:35 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:38 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:38 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:07:40 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:41 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:41 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:43 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:45 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:46 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:46 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:48 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:50 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:51 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:51 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:53 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:53 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:07:55 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:56 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:56 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"b6czynlxp2h","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:56 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=b6czynlxp2h 
[2025-06-03 11:07:57 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:07:57 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 11:07:57 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=i4x6jlgmop 
[2025-06-03 11:07:57 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:07:57 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:07:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:07:58 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:03 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:08 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:08:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:21 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:21 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:21 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:22 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:23 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:26 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:26 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:26 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:27 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:28 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:31 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:31 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:31 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:32 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:33 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:36 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:37 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:38 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:41 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:41 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:41 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:42 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:43 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:46 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:46 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:46 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:47 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:48 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:51 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:51 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:51 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:52 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:53 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"i4x6jlgmop","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:55 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:08:55 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=i4x6jlgmop 
[2025-06-03 11:08:56 +08:00Z] [INFO] - canvas-editor 客户端连接尝试, URL: /?canvas-editor/lxfKZv7CqhZWgNqjaPE-v 
[2025-06-03 11:08:56 +08:00Z] [INFO] - canvas-editor 客户端连接成功: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=f1iropliddk 
[2025-06-03 11:08:56 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:08:56 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:08:56 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:56 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:56 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:57 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:58 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:08:58 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:01 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:02 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:03 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:03 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:06 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:07 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:08 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:11 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:12 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:13 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:16 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:17 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:18 +08:00Z] [INFO] - 当前连接的客户端: [{"wid":"f1iropliddk","fileid":"lxfKZv7CqhZWgNqjaPE-v"}] 
[2025-06-03 11:09:18 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:09:20 +08:00Z] [INFO] - 消息广播完成，共发送给 0 个客户端 
[2025-06-03 11:09:20 +08:00Z] [WARN] - canvas-editor 用户关闭连接: fileid=lxfKZv7CqhZWgNqjaPE-v, wid=f1iropliddk 
[2025-06-03 11:09:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM files WHERE OWNER ='4' AND ISNULL(fileownerfolderid) AND state='1 ORDER BY filetype' 
[2025-06-03 11:09:20 +08:00Z] [INFO] - SQL (direct): SELECT * FROM folders WHERE OWNER ='4' AND state=1 AND ISNULL(parentfolderid) 
[2025-06-03 11:09:20 +08:00Z] [DEBUG] - [status] 200 [msg] 查找成功 
[2025-06-03 11:09:21 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:21 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:21 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:21 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:22 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:22 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:23 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:23 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:23 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:23 +08:00Z] [ERROR] - 未解析到Type类型 
[2025-06-03 11:09:26 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:26 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:26 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:26 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:28 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:28 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:28 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:28 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:28 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:31 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:32 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:32 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:32 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:33 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:33 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:33 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:33 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:33 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:36 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:37 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:37 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:37 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:38 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:38 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:38 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:38 +08:00Z] [INFO] - 当前连接的客户端: [] 
[2025-06-03 11:09:38 +08:00Z] [INFO] - 当前连接的客户端: [] 
